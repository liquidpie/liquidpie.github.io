<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Building LRU (Least Recently Used) Cache · Vivek Jaiswal</title><meta name="description" content="Building LRU (Least Recently Used) Cache - Vivek Jaiswal"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Muli:400,300,300italic,400italic|Open+Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic|Radley:400"><link rel="search" type="application/opensearchdescription+xml" href="https://liquidpie.github.io/atom.xml" title="Vivek Jaiswal"></head><body><div class="wrap"><header><div class="site-title-wrapper"><h1 class="site-title"><div class="logo-wrapper"><a href="/" class="home-link"><img src="/logo.png" alt="Vivek Jaiswal" class="logo"></a></div><div class="logo-image-title"><a href="/" class="home-link">"Vivek Jaiswal"</a></div></h1></div><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/lab/" target="_self" class="nav-list-link">LAB</a></li><li class="nav-list-item"><a href="/skills/" target="_self" class="nav-list-link">SKILLS</a></li><li class="nav-list-item"><a href="/blog/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/contact/" target="_self" class="nav-list-link">CONTACT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Building LRU (Least Recently Used) Cache</h1><div class="post-info">Apr 2, 2018</div><div class="post-content"><p>What’s a Cache? According to wikipedia,</p>
<blockquote><p>A cache is a hardware or software component that stores data so future requests for that data can be served faster; the data stored in a cache might be the result of an earlier computation, or the duplicate of data stored elsewhere.</p>
<footer><strong>Wikipedia -&nbsp;</strong><cite><a href="https://en.wikipedia.org/wiki/Cache_(computing)" target="_blank" rel="noopener">Cache</a></cite></footer></blockquote>
<p>In short, Cache is a technique to store common used resources and return it immediately when someone requests that same resource. These resources are mostly stored in memory. It has significant improvement on the performance of the system with small increase in the storage size.</p>
<a id="more"></a>
<img src="https://github.com/liquidpie/assets/raw/master/blog/posts/lrucache/cache_system.png" title="Cache System">
<p>Instead of talking about Cache in general, I’ll talk about specific type of software cache, <em>LRU Cache</em> here.</p>
<h2 id="What’s-an-LRU-Cache"><a href="#What’s-an-LRU-Cache" class="headerlink" title="What’s an LRU Cache?"></a>What’s an LRU Cache?</h2><p>One of the most common cache system is <strong>LRU (Least Recently Used) Cache</strong>. It is a cache with eviction policy of evicting the least recently used entry. In other words, when LRU cache is low on memory, it evicts the least recently used entry.</p>
<p>The way LRU cache works is quite simple. When the user requests for a resource <strong><em>R</em></strong>.</p>
<ul>
<li>If <strong><em>R</em></strong> exists in the Cache, it will return <strong><em>R</em></strong> immediately</li>
<li>If not and Cache has room to add entry, <strong><em>R</em></strong> is fetched, inserted into the Cache and returned to the client</li>
<li>If the Cache doesn’t have any space, the least recently used entry is determined, removed from Cache and <strong><em>R</em></strong> is inserted into the Cache.</li>
</ul>
<h4 id="An-LRU-Cache-constraints"><a href="#An-LRU-Cache-constraints" class="headerlink" title="An LRU Cache constraints"></a>An LRU Cache constraints</h4><p>An LRU Cache meets the following constraints:</p>
<ol>
<li><strong>Bounded Size:</strong> It has a fixed size as defined by the system or user</li>
<li><strong>Fast Access:</strong> Lookup and insert operations should be in O(1) time</li>
<li><strong>Eviction:</strong> When Cache is full (when size limit is reached), it should evict entries that are least recently used</li>
</ol>
<h2 id="Designing-an-LRU-Cache"><a href="#Designing-an-LRU-Cache" class="headerlink" title="Designing an LRU Cache"></a>Designing an LRU Cache</h2><p>An LRU Cache should support fast <strong>lookup</strong>. Apparently, in order to achieve fast lookup, we need to use <strong>Hashtable</strong> or <strong>HashMap</strong>.<br>Also, an LRU Cache requires that <strong>insert</strong> and <strong>delete</strong> operations should be in O(1) time. The obvious choice for this requirement is <strong>Linked List</strong>. Linked List support insert/delete operations in O(1) time if we have the reference of element.</p>
<p>While building an LRU cache requires that you think in terms of these two data structures. The reality is that these two data structures actually work coherently to achieve the design.</p>
<p>So, we are finalizing on these data structures: <strong><em>HashMap</em></strong> and <strong><em>Doubly Linked List</em></strong></p>
<p>HashMap holds the keys and values as reference of the nodes (entries) of Doubly Linked List.</p>
<p>Doubly Linked List is used to store list of nodes (entries) with most recently used node at the head of the list. So, as more nodes are added to the list, least recently used nodes are moved to the end of the list with node at tail being the least recently used in the list.</p>
<img src="https://github.com/liquidpie/assets/raw/master/blog/posts/lrucache/lrucache_design.png" title="LRU Cache design">
<h4 id="Cache-Implementation"><a href="#Cache-Implementation" class="headerlink" title="Cache Implementation"></a>Cache Implementation</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> CACHE_SIZE;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;K, Entry&lt;K, V&gt;&gt; CACHE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Entry&lt;K, V&gt; head, tail;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="number">16</span>);       <span class="comment">// default cache size as 16</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> CACHE_SIZE)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.CACHE_SIZE = CACHE_SIZE;</span><br><span class="line">        CACHE = <span class="keyword">new</span> HashMap&lt;&gt;(CACHE_SIZE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(K key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (CACHE.containsKey(key)) &#123;</span><br><span class="line">            Entry&lt;K, V&gt; entry = CACHE.get(key);</span><br><span class="line">            <span class="comment">// remove the recently accessed entry from linkedlist</span></span><br><span class="line">            remove(entry);</span><br><span class="line">            <span class="comment">// and move to top</span></span><br><span class="line">            splayOnTop(entry);</span><br><span class="line">            <span class="keyword">return</span> entry.value;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (CACHE.containsKey(key)) &#123;</span><br><span class="line">            Entry&lt;K, V&gt; entry = CACHE.get(key);</span><br><span class="line">            entry.value = value;</span><br><span class="line">            remove(entry);</span><br><span class="line">            splayOnTop(entry);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Entry&lt;K, V&gt; entry = <span class="keyword">new</span> Entry&lt;&gt;();</span><br><span class="line">            entry.key = key;</span><br><span class="line">            entry.value = value;</span><br><span class="line">            <span class="comment">// reached the cache size, evict the least recently used entry</span></span><br><span class="line">            <span class="keyword">if</span> (CACHE.size() == CACHE_SIZE) &#123;</span><br><span class="line">                CACHE.remove(tail.key);</span><br><span class="line">                remove(tail);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// move the recently accessed entry to top</span></span><br><span class="line">            splayOnTop(entry);</span><br><span class="line">            CACHE.put(key, entry);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Set&lt;Entry&lt;K, V&gt;&gt; entrySet() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HashSet&lt;&gt;(CACHE.values());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Set&lt;K&gt; <span class="title">keySet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> CACHE.keySet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder(<span class="string">"&#123;"</span>);</span><br><span class="line">        String delimiter = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K, V&gt; entry : entrySet()) &#123;</span><br><span class="line">            sb.append(delimiter).append(entry.key).append(<span class="string">"="</span>).append(entry.value);</span><br><span class="line">            delimiter = <span class="string">", "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sb.append(<span class="string">"&#125;"</span>);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">splayOnTop</span><span class="params">(Entry&lt;K, V&gt; entry)</span> </span>&#123;</span><br><span class="line">        entry.next = head;</span><br><span class="line">        <span class="keyword">if</span> (head != <span class="keyword">null</span>)           <span class="comment">// when linkedlist not empty</span></span><br><span class="line">            head.prev = entry;</span><br><span class="line">        head = entry;</span><br><span class="line">        <span class="keyword">if</span> (tail == <span class="keyword">null</span>)           <span class="comment">// when first entry</span></span><br><span class="line">            tail = head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Entry&lt;K, V&gt; entry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (entry.prev != <span class="keyword">null</span>) &#123;</span><br><span class="line">            entry.prev.next = entry.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            head = entry.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (entry.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            entry.next.prev = entry.prev;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tail = entry.prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">        K key;</span><br><span class="line">        V value;</span><br><span class="line">        Entry prev;</span><br><span class="line">        Entry next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Testing-our-LRU-Cache"><a href="#Testing-our-LRU-Cache" class="headerlink" title="Testing our LRU Cache"></a>Testing our LRU Cache</h4><p>Let’s test our LRU Cache that we have just implemented above.<br>We’ll start with small cache size for testing purpose. I’m testing with a Cache size of 4. First, add few entries into the cache and check the Cache contents. As the Cache reaches its size and we add new entry into the Cache, you can see the least recently used entry is evicted.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    LRUCache&lt;Integer, Integer&gt; lruCache = <span class="keyword">new</span> LRUCache&lt;&gt;(<span class="number">4</span>);</span><br><span class="line">    lruCache.put(<span class="number">1</span>, <span class="number">11</span>);</span><br><span class="line">    lruCache.put(<span class="number">2</span>, <span class="number">12</span>);</span><br><span class="line">    lruCache.put(<span class="number">3</span>, <span class="number">13</span>);</span><br><span class="line">    lruCache.get(<span class="number">2</span>);</span><br><span class="line">    lruCache.put(<span class="number">4</span>, <span class="number">14</span>);</span><br><span class="line">    lruCache.get(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"Cache contents before eviction"</span>);</span><br><span class="line">    System.out.println(lruCache);</span><br><span class="line"></span><br><span class="line">    lruCache.put(<span class="number">5</span>, <span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"Cache contents after eviction"</span>);</span><br><span class="line">    System.out.println(lruCache);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And the output of the run is</p>
<figure class="highlight java"><figcaption><span>Console Output</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Cache contents before eviction</span><br><span class="line">&#123;<span class="number">2</span>=<span class="number">12</span>, <span class="number">1</span>=<span class="number">11</span>, <span class="number">4</span>=<span class="number">14</span>, <span class="number">3</span>=<span class="number">13</span>&#125;</span><br><span class="line">Cache contents after eviction</span><br><span class="line">&#123;<span class="number">2</span>=<span class="number">12</span>, <span class="number">4</span>=<span class="number">14</span>, <span class="number">5</span>=<span class="number">15</span>, <span class="number">3</span>=<span class="number">13</span>&#125;</span><br></pre></td></tr></table></figure>
<p>Check the complete source code at <a href="https://github.com/liquidpie/algorithms-java/blob/master/src/com/vivek/linkedlist/LRUCache.java" target="_blank" rel="noopener">LRU Cache</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/Java-Reference-Types/" class="next">NEXT</a></div><div class="grid"><div class="grid-row"><div class="grid-col-1"><div class="grid-block"><ul id="social"><li><a target="_blank" href="https://www.facebook.com/vivek223" class="social-icon facebook"></a></li><li><a target="_blank" href="https://www.linkedin.com/in/vivek223" class="social-icon linkedin"></a></li><li><a target="_blank" href="https://twitter.com/vivekjaiswal22" class="social-icon twitter"></a></li></ul></div></div><div class="grid-col-2"><div class="grid-block"><p>© 2018 <a target="_blank" href="https://about.me/vjaiswal">Vivek Jaiswal</a></p></div></div></div></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-115550149-1",'auto');ga('send','pageview');</script><!-- - Google Maps--><script>function initLocation() {
    var location = {lat: 12.908136, lng: 77.647608};
    var style = [{"featureType":"all","elementType":"geometry.fill","stylers":[{"weight":"2.00"}]},{"featureType":"all","elementType":"geometry.stroke","stylers":[{"color":"#9c9c9c"}]},{"featureType":"all","elementType":"labels.text","stylers":[{"visibility":"on"}]},{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#34495e"}]},{"featureType":"administrative.locality","elementType":"labels.text.fill","stylers":[{"color":"#42b983"}]},{"featureType":"administrative.neighborhood","elementType":"labels.text.fill","stylers":[{"color":"#626262"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#ffffff"},{"lightness":"0"}]},{"featureType":"landscape","elementType":"geometry.fill","stylers":[{"color":"#f9f6f6"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"visibility":"on"},{"lightness":"0"},{"gamma":"1"},{"color":"#dddddd"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road","elementType":"geometry.fill","stylers":[{"color":"#efefef"}]},{"featureType":"road","elementType":"labels.text.fill","stylers":[{"color":"#000000"}]},{"featureType":"road","elementType":"labels.text.stroke","stylers":[{"color":"#ffffff"}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#42b983"},{"visibility":"on"}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"color":"#afa9a0"}]}];
    var map = new google.maps.Map(document.getElementById('location'), {
        zoom: 5,
        center: location,
        styles: style,
        zoomControl: false,
        mapTypeControl: false,
        scaleControl: true,
        streetViewControl: true,
        rotateControl: true,
        fullscreenControl: false
    });
    var marker = new google.maps.Marker({
        position: location,
        map: map
    });
}
</script><script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRG9syuItXlrvznh-y3RM3xNrcBHzlHQk&amp;callback=initLocation"></script><script src="https://d3js.org/d3.v3.min.js"></script><script src="/script/d3relationship.js"></script><script>var json = [
    { parent: 'Java', value: '11' },
    { parent: 'Java', value: '21' },
    { parent: 'Java', value: '31' },
    { parent: 'Java', value: '41' },
    { parent: 'Java', value: '51' },
    { parent: 'Java', value: '61' },
    { parent: 'Java', value: '71' },
    { parent: 'Java', value: '81' },
    { parent: 'Python', value: '11' },
    { parent: 'Python', value: '21' },
    { parent: 'Python', value: '31' },
    { parent: 'Python', value: '41' },
    { parent: 'Javascript', value: '11' },
    { parent: 'Javascript', value: '21' },
    { parent: 'Javascript', value: '31' },
    { parent: 'Javascript', value: '41' },
    { parent: 'Javascript', value: '51' },
    { parent: 'NodeJS', value: '11' },
    { parent: 'NodeJS', value: '21' },
    { parent: 'NodeJS', value: '31' },
    { parent: 'NodeJS', value: '41' },
    { parent: 'NodeJS', value: '51' },
    { parent: 'jQuery', value: '11' },
    { parent: 'jQuery', value: '21' },
    { parent: 'jQuery', value: '31' },
    { parent: 'jQuery', value: '41' },
    { parent: 'Spring Boot', value: '11' },
    { parent: 'Spring Boot', value: '21' },
    { parent: 'Spring Boot', value: '31' },
    { parent: 'Spring Boot', value: '41' },
    { parent: 'Spring Boot', value: '51' },
    { parent: 'Spring Boot', value: '61' },
    { parent: 'Apache Camel', value: '11' },
    { parent: 'Apache Camel', value: '21' },
    { parent: 'Apache Camel', value: '31' },
    { parent: 'Apache Camel', value: '41' },
    { parent: 'Apache Camel', value: '51' },
    { parent: 'Apache Camel', value: '61' },
    { parent: 'Apache Camel', value: '71' },
    { parent: 'MongoDB', value: '11' },
    { parent: 'MongoDB', value: '21' },
    { parent: 'MongoDB', value: '31' },
    { parent: 'MongoDB', value: '41' },
    { parent: 'MongoDB', value: '51' },
    { parent: 'MongoDB', value: '61' },
    { parent: 'Redshift', value: '11' },
    { parent: 'Redshift', value: '21' },
    { parent: 'Redshift', value: '31' },
    { parent: 'Redshift', value: '41' },
    { parent: 'Redshift', value: '51' },
    { parent: 'Redshift', value: '61' },
    { parent: 'PostgreSQL', value: '11' },
    { parent: 'PostgreSQL', value: '21' },
    { parent: 'PostgreSQL', value: '31' },
    { parent: 'PostgreSQL', value: '41' },
    { parent: 'PostgreSQL', value: '51' },
    { parent: 'PostgreSQL', value: '61' },
    { parent: 'MySQL', value: '11' },
    { parent: 'MySQL', value: '21' },
    { parent: 'MySQL', value: '31' },
    { parent: 'MySQL', value: '41' },
    { parent: 'MySQL', value: '51' },
    { parent: 'MySQL', value: '61' },
    { parent: 'MySQL', value: '71' },
    { parent: 'Redis', value: '11' },
    { parent: 'Redis', value: '21' },
    { parent: 'Redis', value: '31' },
    { parent: 'Redis', value: '41' },
    { parent: 'Redis', value: '51' },
    { parent: 'Redis', value: '61' },
    { parent: 'Jersey', value: '11' },
    { parent: 'Jersey', value: '21' },
    { parent: 'Jersey', value: '31' },
    { parent: 'Jersey', value: '41' },
    { parent: 'Jersey', value: '51' },
    { parent: 'Jersey', value: '61' },
    { parent: 'Machine Learning', value: '11' },
    { parent: 'Machine Learning', value: '21' },
    { parent: 'Machine Learning', value: '31' }
];

var graph = d3.select('#skillgraph').relationshipGraph({
    showTooltips: false,
    maxChildCount: 10,
    showKeys: false,
    thresholds: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100],
    colors: ['#c4ffe4', '#a6edcc', '#92e8c0', '#8ae2b9', '#75d6a9', '#71d6a7', '#61c697', '#5fce9b', '#52c490', '#42b983']
}).data(json);</script></body></html>